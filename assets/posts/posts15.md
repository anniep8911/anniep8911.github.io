## Firebase ê¸°ë°˜ í¬íŠ¸í´ë¦¬ì˜¤ ë°©ë¬¸ì ë° ì¸ê¸° ì½˜í…ì¸  íŠ¸ë˜í‚¹ ì‹œìŠ¤í…œ

ì •ì  GitHub Page ê¸°ë°˜ í¬íŠ¸í´ë¦¬ì˜¤ì—  
**Firebase Firestore + JavaScript**ë§Œìœ¼ë¡œ  
ì‹¤ì‹œê°„ ë°©ë¬¸ì ìˆ˜ ì¶”ì  ë° ì¸ê¸° í”„ë¡œì íŠ¸ ë­í‚¹ ê¸°ëŠ¥ êµ¬ì¶•

#Firebase #Firestore #VanillaJS #ì‹¤ì‹œê°„ì—…ë°ì´íŠ¸ #ë°ì´í„°ë¶„ì„ #í¼í¬ë¨¼ìŠ¤íŠ¸ë˜í‚¹

---

### ì„¤ê³„ ë°©í–¥

**ì •ì  HTML ê¸°ë°˜ GitHub Pages í¬íŠ¸í´ë¦¬ì˜¤ì— Firebaseë¥¼ ì—°ê²°í•˜ì—¬,  
ì‹¤ì‹œê°„ ë°©ë¬¸ì ìˆ˜ ë° ì¸ê¸° ì½˜í…ì¸  í´ë¦­ ìˆ˜ë¥¼ ì¶”ì í•˜ê³  ì‹œê°í™”í•˜ëŠ” êµ¬ì¡°ë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.  
ì¹´ìš´íŠ¸ ì¦ê°€, ì‹¤ì‹œê°„ ë­í‚¹ ë°˜ì˜, í•˜ë£¨ 1íšŒ ì¹´ìš´íŠ¸ ì œí•œ ë“±  
ì‘ì€ íŠ¸ë˜í”½ í™˜ê²½ì— ìµœì í™”ëœ ë¡œì§ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.**

---

### ì‘ì—…í™˜ê²½

- ğŸ–¥ Frontend: HTML5, JavaScript (ES6)
- ğŸ—‚ ë°ì´í„°ë² ì´ìŠ¤: Firebase Firestore
- ğŸ” ë³´ì•ˆ: Firestore Rules, LocalStorage ì¤‘ë³µë°©ì§€
- ğŸ“Š ì‹¤ì‹œê°„: onSnapshot() ê¸°ë°˜ ì‹¤ì‹œê°„ ë°˜ì˜
- ğŸ§° ë„êµ¬: GitHub Pages, Vite, Figma
- ğŸŒ êµ¬ì¡°: ì •ì  SPA ê¸°ë°˜ / CDN + Firebase ì—°ê²°

---

### ì‘ì—… ì¼ì •

- ğŸ“… ê¸°ê°„: 2025.04 (ì•½ 1ì£¼)
- ğŸ‘¤ ì—­í• : ê°œì¸ í”„ë¡œì íŠ¸ 100% ë‹¨ë… ì§„í–‰
- âœ… ì„±ê³¼: ì‹¤ì‹œê°„ ë°©ë¬¸ì ìˆ˜ ì§‘ê³„ ë° í´ë¦­ ê¸°ë°˜ ë­í‚¹ UI ì ìš© ì™„ë£Œ

---

### ë¬¸ì œì 

- ì •ì  HTML êµ¬ì¡°ì—ì„œ API í‚¤ ë…¸ì¶œ ìœ„í—˜
- í•˜ë£¨ ì¤‘ë³µ ì¹´ìš´íŠ¸ ë°œìƒ ê°€ëŠ¥ì„±
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì‹œ DOMì´ ëŠ¦ê²Œ ì¤€ë¹„ë˜ì–´ ì´ë²¤íŠ¸ ëˆ„ë½
- Firestoreì˜ ì‹¤ì‹œê°„ ë™ê¸°í™” íƒ€ì´ë° ë¬¸ì œ

---

### í•´ê²°ë°©ì•ˆ

- **Firebase ì„¤ì • ì •ë³´ Base64 ì¸ì½”ë”© í›„ ë…¸ì¶œ ìµœì†Œí™”**
  â†’ ì™¸ë¶€ì—ì„œëŠ” êµ¬ì¡°ë§Œ ë³´ì´ê³  ì§ì ‘ íŒŒì‹± ì—†ì´ëŠ” ì‚¬ìš© ë¶ˆê°€

- **LocalStorage ê¸°ë°˜ ë°©ë¬¸ì ì¤‘ë³µ ì œì–´**
  â†’ ë‚ ì§œ í‚¤(`visited-YYYY-MM-DD`)ë¡œ í•˜ë£¨ 1íšŒë§Œ ì¹´ìš´íŠ¸ í—ˆìš©

- **onSnapshot() + ì´ë²¤íŠ¸ ìœ„ì„ ë°©ì‹ ë„ì…**
  â†’ ì‹¤ì‹œê°„ ì¶”ê°€ëœ DOMì—ë„ ì´ë²¤íŠ¸ ì •ìƒ ì ìš©

- **Rankingì€ onSnapshotìœ¼ë¡œ ì „í™˜í•˜ì—¬ ì‹¤ì‹œê°„ ë°˜ì˜**
  â†’ ì¸ê¸° í”„ë¡œì íŠ¸ í´ë¦­ ë­í‚¹ì´ ìë™ìœ¼ë¡œ DOMì— ë°˜ì˜ë˜ë„ë¡ ê°œì„ 

---

### ì£¼ìš” êµ¬ì¡° ìš”ì•½ (ê°„ë‹¨ ì½”ë“œ)

```js
// ë°©ë¬¸ì ì¹´ìš´íŠ¸ (ì¤‘ë³µ ë°©ì§€)
const todayKey = new Date().toISOString().slice(0, 10);
const visitKey = `visited-${todayKey}`;
if (!localStorage.getItem(visitKey)) {
  localStorage.setItem(visitKey, 'true');
  db.collection('stats').doc('visits').update({
    total: firebase.firestore.FieldValue.increment(1),
    today: firebase.firestore.FieldValue.increment(1)
  });
}

// ì‹¤ì‹œê°„ ì¸ê¸° ë­í‚¹ UI ë Œë”
db.collection("projects")
  .orderBy("clicks", "desc")
  .limit(5)
  .onSnapshot(snapshot => {
    snapshot.forEach(doc => {
      // DOM ì—…ë°ì´íŠ¸ ì²˜ë¦¬
    });
  });
```

---

### Firestore ë³´ì•ˆ ì„¤ê³„ (AI Prompt ê¸°ë°˜ í•´ê²°)

ì •ì  ì›¹ì‚¬ì´íŠ¸ì— Firebaseë¥¼ ì—°ë™í•˜ë©´ì„œ,  
ê¸°ë³¸ ì œê³µë˜ëŠ” í…ŒìŠ¤íŠ¸ ë³´ì•ˆ ê·œì¹™(`request.time < 30ì¼ ì œí•œ`)ì´  
ëª¨ë“  ë°ì´í„°ì— ëŒ€í•´ ì“°ê¸° í—ˆìš© ìƒíƒœë¼ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.  
ë³´ì•ˆìƒ ì‹¬ê°í•œ ë¦¬ìŠ¤í¬ê°€ ìˆìŒì„ ì¸ì§€í•˜ê³ ,  
OpenAI í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ìœ¼ë¡œ Firestore Rules ê°œì„  ë°©ì•ˆì„ ë„ì¶œí–ˆìŠµë‹ˆë‹¤.

#### ğŸ’¬ ì‚¬ìš©í•œ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ:

> ì§€ê¸ˆ ì´ ê·œì¹™ì€ request.time < 30ì¼ ì œí•œë§Œ ê±¸ë¦° ìƒíƒœì¸ë°,  
> stats ì»¬ë ‰ì…˜ì´ë‘ projects ì»¬ë ‰ì…˜ë§Œ ì“°ê¸°ë¥¼ í—ˆìš©í•˜ê³   
> ë‚˜ë¨¸ì§€ëŠ” ì „ë¶€ ì°¨ë‹¨í•˜ë ¤ë©´ ì–´ë–»ê²Œ ë°”ê¿”ì•¼ ë¼?

#### ğŸ” GPTë¥¼ í†µí•´ ë„ì¶œëœ Firestore ê·œì¹™ ê°œì„ ì•ˆ:

```js
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    match /stats/{doc} {
      allow read: if true;
      allow write: if request.time < timestamp.date(2025, 12, 31);
    }

    match /projects/{doc} {
      allow read: if true;
      allow write: if request.time < timestamp.date(2025, 12, 31);
    }

    // ê·¸ ì™¸ ëª¨ë“  ë¬¸ì„œëŠ” ì°¨ë‹¨
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```